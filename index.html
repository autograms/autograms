
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://autograms.github.io/autograms/">
      
      
      
        <link rel="next" href="documentation/autogram/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Home - AutoGRAMS Docs</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#autograms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="AutoGRAMS Docs" class="md-header__button md-logo" aria-label="AutoGRAMS Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AutoGRAMS Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="documentation/autogram/" class="md-tabs__link">
          
  
  
  Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="AutoGRAMS Docs" class="md-nav__button md-logo" aria-label="AutoGRAMS Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AutoGRAMS Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-autograms-works" class="md-nav__link">
    <span class="md-ellipsis">
      How AutoGRAMS Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features_1" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installation and Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-getting-started-example" class="md-nav__link">
    <span class="md-ellipsis">
      Simple "getting started" example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple &#34;getting started&#34; example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-coding-a-simple-chatbot" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Coding a simple chatbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-visualize-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: visualize the code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-examples-and-useful-functions" class="md-nav__link">
    <span class="md-ellipsis">
      More examples and useful functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/autogram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autogram class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autogram Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/autograms_decorators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autograms Decorators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/reply_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reply functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/decision_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decision functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/structured_generation_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/control_flow_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Control Flow functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/prompt_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/model_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models calling functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embedding functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/logging_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/helper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code utility functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentation/simulation_finetuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation and finetuning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-autograms-works" class="md-nav__link">
    <span class="md-ellipsis">
      How AutoGRAMS Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features_1" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Installation and Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-getting-started-example" class="md-nav__link">
    <span class="md-ellipsis">
      Simple "getting started" example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Simple &#34;getting started&#34; example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-coding-a-simple-chatbot" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Coding a simple chatbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-visualize-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: visualize the code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-examples-and-useful-functions" class="md-nav__link">
    <span class="md-ellipsis">
      More examples and useful functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="autograms">AutoGRAMS</h1>
<p>Welcome to the official documentation for <a href="https://github.com/autograms/autograms">AutoGRAMS</a>, the Autonomous Graphical Agent Modeling Software. AutoGRAMS is a Python framework designed to transform chatbots into dynamic, stateful programs. It leverages Python’s full power, allowing developers to craft intelligent conversational agents with advanced control over dialogue flow, memory, and program state. </p>
<p>By representing a chatbot as a continuously running program, AutoGRAMS enables you to precisely control the prompts and memory at different points in the conversation. Decisions made during conversations directly influence the program’s execution path, variables persist as the chatbot’s memory, and conversations seamlessly adapt based on the program’s current state.</p>
<h2 id="introduction">Introduction</h2>
<p>Modern conversational AI systems often face challenges in guiding users through structured, multi-turn interactions. For instance, an educational tutor chatbot may need to follow a defined script or dynamically adjust its path based on user input. Similarly, a virtual recruiter might want to branch into different conversational routes depending on the user's qualifications. Standard AI models often lose coherence in such scenarios, struggling to maintain both the context and structure of a conversation over time.</p>
<p>AutoGRAMS addresses these challenges by treating chatbots as dynamic programs. Conversations are implicitly modeled as graphs, with each node representing a specific conversational state and transitions between nodes representing the dialogue flow. This approach unlocks a range of powerful features that make AutoGRAMS uniquely suited for building complex, stateful agents:</p>
<hr />
<h3 id="key-features">Key Features</h3>
<ol>
<li>
<p><strong>Continuously Running Programs</strong><br />
   AutoGRAMS enables you to write chatbots as Python programs that persist their state across user interactions. When using the <code>@autograms_function</code> decorator, the chatbot resumes execution exactly where it left off after each conversational exchange with the user, allowing for highly dynamic, context-aware conversations.</p>
</li>
<li>
<p><strong>Save and Resume Program State</strong><br />
   AutoGRAMS allows you to serialize the program’s complete state, including the call stack, local and global variables, and control flow position. This means you can pause the program after any conversational turn, save it, and later reload it to continue from the exact same state.</p>
</li>
<li>
<p><strong>Dynamic Control Flow</strong><br />
   AutoGRAMS introduces constructs like <code>GOTO</code>, <code>TRANSITION</code>, and <code>RETURNTO</code> to enable flexible navigation through your chatbot’s logic. These are used to jump to special autograms nodes that you define with addresses.</p>
</li>
<li>
<p><strong>AI-Driven Decisions</strong><br />
   Integrate LLM-powered decision-making directly into your chatbot’s workflow. Functions like <code>yes_or_no</code> and <code>multiple_choice</code> guide the program’s branching logic based on user input or internal criteria, enabling intelligent and dynamic conversation flow.</p>
</li>
<li>
<p><strong>Memory Management</strong><br />
   AutoGRAMS automatically manages memory across turns, preserving variables and conversation history. The memory object tracks context, ensuring smooth continuity and coherence in multi-turn dialogues.</p>
</li>
<li>
<p><strong>Visualize Conversation Flow</strong><br />
   AutoGRAMS can compile your chatbot’s logic into detailed graph visualizations. These visualizations map out the program’s states and decision points, helping you design, debug, and understand the flow of your conversations at a glance.</p>
</li>
</ol>
<hr />
<h2 id="how-autograms-works">How AutoGRAMS Works</h2>
<p>At its core, AutoGRAMS reimagines chatbots as programs that can be paused, serialized, and resumed. Each conversation is a journey through the program's logic, with the chatbot's state representing its memory and the current position in the program determining its next actions. Here’s how it comes together:</p>
<ul>
<li>
<p><strong>Pause and Resume</strong>: Whenever the chatbot provides a reply, AutoGRAMS pauses the program execution. The current state is saved, and the program can be reloaded later to continue seamlessly from the same point.</p>
</li>
<li>
<p><strong>Dynamic Graph Representation</strong>: Conversations are represented as a graph of nodes (states) and edges (transitions). AutoGRAMS allows precise navigation of this graph using dynamic constructs like <code>GOTO</code>.</p>
</li>
<li>
<p><strong>LLM-Powered Decisions</strong>: By embedding decision-making functions directly into the program, AutoGRAMS ensures that the chatbot’s actions align with its conversational objectives, guided by both user input and AI-driven logic.</p>
</li>
</ul>
<p>Together, these capabilities enable a new level of flexibility and control in chatbot development, making AutoGRAMS the ideal framework for building advanced conversational agents.</p>
<hr />
<p>Welcome to the official documentation of the <a href="https://github.com/autograms/autograms">AutoGRAMS framework</a>. AutoGRAMS, or Autonomous Graphical Agent Modeling Software, is a Python library designed to streamline the creation of intelligent, stateful chatbots. It builds on the concept of conversational agents as dynamic systems with complex state management, providing powerful tools to craft flexible, controlled dialogues. Unlike its earlier version, which introduced a custom programming language, this new iteration leverages pure Python for maximum flexibility, integration, and ease of use.</p>
<h2 id="introduction_1">Introduction</h2>
<p>Modern conversational AI systems often struggle to lead multi-turn conversations along specific paths or adhere to structured scripts. For example, imagine building an educational chatbot or a virtual recruiter. You may want the agent to guide the user through a carefully planned sequence of interactions. However, standard language models tend to lose focus over long conversations or struggle to maintain a predefined conversational structure. </p>
<p>AutoGRAMS solves this problem by allowing you to define these structured interactions directly in Python. It offers tools to build chatbot workflows using common programming constructs like loops, conditionals, and stateful branching. Conversations are implicitly represented as a dynamic graph, where each node corresponds to a specific point in the conversation. Here's what makes AutoGRAMS unique:</p>
<h3 id="key-features_1">Key Features</h3>
<ol>
<li>
<p><strong>Stateful Conversations with Serialization</strong><br />
   AutoGRAMS allows chatbots to save and restore their entire program state between turns, enabling mid-conversation reloads. By using the <code>@autograms_function</code> decorator, functions can automatically handle program state, allowing the chatbot to seamlessly continue from the exact point it left off after each reply.</p>
</li>
<li>
<p><strong>Automatic Conversation History and Prompt Management</strong><br />
   Every reply in AutoGRAMS is generated within a memory context that tracks conversation history, manages system prompts, and seamlessly integrates new user inputs. This memory is thread-specific and ensures isolation between concurrent sessions.</p>
</li>
<li>
<p><strong>Decision-Making Functions</strong><br />
   AutoGRAMS offers specialized functions like <code>yes_or_no</code> and <code>multiple_choice</code>, designed to streamline branching logic. These functions allow the chatbot to make decisions based on user input or internal criteria and adjust the conversation flow accordingly.</p>
</li>
<li>
<p><strong>Advanced Control Flow (GOTO and RETURNTO)</strong><br />
   For more complex chatbot behaviors, AutoGRAMS introduces control flow constructs like <code>GOTO</code> and <code>RETURNTO</code>, enabling precise navigation across conversation states. These constructs are especially useful for state-driven chatbots that require jumping between different points in a workflow.</p>
</li>
<li>
<p><strong>Integration with AI APIs</strong><br />
   AutoGRAMS simplifies calling AI APIs (e.g., OpenAI) to handle tasks like text generation, classification, and embedding extraction. These functions are designed to work seamlessly with the memory and state management system.</p>
</li>
</ol>
<h2 id="installation-and-requirements">Installation and Requirements</h2>
<p>You can install AutoGRAMS via pip, either with </p>
<div class="highlight"><pre><span></span><code>pip install autograms
</code></pre></div>
<p>or <code>pip install .</code> from the root directory</p>
<p>Requirements:
- <strong>Python 3.9+</strong>
- <strong>Graphviz</strong> (optionial, for visualizing conversation graphs). On Linux:
  <div class="highlight"><pre><span></span><code>sudo apt install graphviz
</code></pre></div>
- <strong>OpenAI API Key</strong> (optional, for openai api--can also use other models through proxy). Set it in your environment:
  <div class="highlight"><pre><span></span><code>export OPENAI_API_KEY=[your_key]
</code></pre></div>
  Alternatively, you can store API keys in an <code>api_keys.json</code> file for flexibility.</p>
<hr />
<h2 id="simple-getting-started-example">Simple "getting started" example</h2>
<p>Here we'll walk through setting up and running a basic chatbot using Autograms. The example chatbot prompts the user about their interest in AI and dynamically adjusts the conversation based on their response. We'll also generate an interactive graph to visualize the flow of the chatbot.</p>
<h3 id="step-1-coding-a-simple-chatbot">Step 1: Coding a simple chatbot</h3>
<p>Let's create a new file called <code>simple_example.py</code> to code a very simple autograms chatbot that asks the user if they would like to know more about the latest advances in AI, and tells them a bit about AutoGRAMS if they say yes.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">autograms.nodes</span><span class="w"> </span><span class="kn">import</span> <span class="n">reply</span><span class="p">,</span> <span class="n">reply_instruction</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autograms.functional</span><span class="w"> </span><span class="kn">import</span> <span class="n">yes_or_no</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">autograms</span><span class="w"> </span><span class="kn">import</span> <span class="n">autograms_function</span>

<span class="c1">#this decorator allows the function to have special control flow behavior such as temporarily returning replies</span>
<span class="nd">@autograms_function</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">chatbot</span><span class="p">():</span>

    <span class="c1">#model goes first here, we have a fixed introductory message</span>
    <span class="n">reply</span><span class="p">(</span><span class="s2">&quot;Would you like me to tell you more about the latest advances in AI?&quot;</span><span class="p">,</span> <span class="n">ADDRESS</span><span class="o">=</span><span class="s2">&quot;ask_question&quot;</span><span class="p">)</span>
    <span class="c1">#program will continue from this point after first user reply </span>

    <span class="c1">#The agent decides whether it thinks the user wants to talk about AI based on their response  </span>
    <span class="n">user_wants_ai</span> <span class="o">=</span> <span class="n">yes_or_no</span><span class="p">(</span><span class="s2">&quot;does the user want to talk about AI?&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">user_wants_ai</span><span class="p">:</span>
        <span class="c1">#pause and save program and output reply based on instruction below    </span>
        <span class="n">reply_instruction</span><span class="p">(</span>
            <span class="s2">&quot;Tell the user about the latest advances in AI. Mention that &quot;</span>
            <span class="s2">&quot;a new framework called AutoGRAMS was recently released that allows greater control over AI agents.&quot;</span><span class="p">,</span>
            <span class="n">ADDRESS</span><span class="o">=</span><span class="s2">&quot;tell_about_ai&quot;</span>
        <span class="p">)</span>
        <span class="c1">#continue program here after user response</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1">#pause and save program and output reply based on instruction below  </span>
        <span class="n">reply_instruction</span><span class="p">(</span>
            <span class="s2">&quot;Confirm with the user what they would prefer to talk about.&quot;</span><span class="p">,</span>
            <span class="n">ADDRESS</span><span class="o">=</span><span class="s2">&quot;ask_preference&quot;</span>
        <span class="p">)</span>
        <span class="c1">#continue program here after user response</span>

    <span class="c1">#infinite while loop continues conversation as long as user keeps responding</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1">#pause and save program and output reply based on instruction below</span>
        <span class="n">reply_instruction</span><span class="p">(</span><span class="s2">&quot;Respond to the user.&quot;</span><span class="p">,</span> <span class="n">ADDRESS</span><span class="o">=</span><span class="s2">&quot;continue_conversation&quot;</span><span class="p">)</span>
        <span class="c1">#continue program here after user response</span>
</code></pre></div></p>
<p>What's Happening Here?
1. <code>reply</code> and <code>reply_instruction</code>: These nodes prompt the user. They pause the program, send a reply, and wait for user input before resuming.</p>
<ol>
<li>
<p><code>yes_or_no</code>: This function decides the next flow based on an AI model's interpretation of user input. It’s not user-facing; instead, it processes the chatbot’s own decision.</p>
</li>
<li>
<p><code>ADDRESS</code> Parameters: These labels allow the chatbot to jump to specific points (Advanced), enabling dynamic flow and mid-conversation updates, and can also be used to help visualize the program</p>
</li>
</ol>
<p>When the chatbot hits a reply or reply_instruction, it sends the response and pauses, saving the full state and memory of the program to a serializable object that can be saved and reloaded. After the user replies, the program resumes from that point, maintaining context.</p>
<p>All of these nodes and function we are calling have access to a shared memory object, automatically logging the conversation and allowing prompts to be formed automatically, and managing the stack for each time we return.  </p>
<h3 id="step-2">Step 2</h3>
<p>Next, create a script called <code>run_simple_example.py</code> to run the chatbot function. This script will use the <code>Autogram</code> class to manage memory and handle user interactions.
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">autograms</span><span class="w"> </span><span class="kn">import</span> <span class="n">Autogram</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">simple_example</span><span class="w"> </span><span class="kn">import</span> <span class="n">chatbot</span>

<span class="c1"># Initialize the Autogram class with the chatbot function</span>
<span class="n">autogram</span> <span class="o">=</span> <span class="n">Autogram</span><span class="p">(</span><span class="n">root_function</span><span class="o">=</span><span class="n">chatbot</span><span class="p">)</span>

<span class="c1"># Start the chatbot and capture the first reply</span>
<span class="n">chat_reply</span><span class="p">,</span> <span class="n">memory_object</span> <span class="o">=</span> <span class="n">autogram</span><span class="o">.</span><span class="n">reply</span><span class="p">()</span>

<span class="c1"># Loop to handle user interaction</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Agent: </span><span class="si">{</span><span class="n">chat_reply</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;User: &quot;</span><span class="p">)</span>

    <span class="c1"># Pass user input to the chatbot and get to the next pause point in our chatbot function (reply or reply_instruction)</span>
    <span class="n">chat_reply</span><span class="p">,</span> <span class="n">memory_object</span> <span class="o">=</span> <span class="n">autogram</span><span class="o">.</span><span class="n">reply</span><span class="p">(</span><span class="n">user_input</span><span class="p">,</span> <span class="n">memory_object</span><span class="o">=</span><span class="n">memory_object</span><span class="p">)</span>
</code></pre></div></p>
<p>use <code>python run_simple_example.py</code> to run the chatbot. </p>
<p>Alternatively, from the root directory of the autograms repository, you can run your chatbot with:</p>
<div class="highlight"><pre><span></span><code>python run_autogram.py --autogram_file path/to/simple_example.py
</code></pre></div>
<p>You can also quickly debug common problems in the chatbot with </p>
<div class="highlight"><pre><span></span><code>python run_debug_autogram.py --autogram_file path/to/simple_example.py
</code></pre></div>
<p>which will simulate many conversations with the user without calling any model APIs</p>
<h3 id="step-3-visualize-the-code">Step 3: visualize the code</h3>
<p>create a new file called generate_graph.py
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">autograms.graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">compile_graph</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">simple_example</span><span class="w"> </span><span class="kn">import</span> <span class="n">chatbot</span>

<span class="c1"># Compile and save the graph for the chatbot</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">compile_graph</span><span class="p">(</span><span class="n">chatbot</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">save_visualization</span><span class="p">(</span><span class="n">save_folder</span><span class="o">=</span><span class="s2">&quot;simple_example_graph&quot;</span><span class="p">,</span> <span class="n">graph_format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>and run <code>python generate_graph.py</code></p>
<p>This will create two files:</p>
<p>PNG Image: A static graph visualization.
Interactive HTML graph: allows you to highlight nodes to see code.</p>
<h2 id="more-examples-and-useful-functions">More examples and useful functions</h2>
<p>See <code>run_autogram.py</code>, <code>debug_augogram.py</code>, and <code>visualize_autogram.py</code> for code that is useful for running, debugging, and visualizing autograms. Also see the <code>/examples</code> folder for more examples of autograms chatbots with comments</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tabs"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="extra.js"></script>
      
    
  </body>
</html>